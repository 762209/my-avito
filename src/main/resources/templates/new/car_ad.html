<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<link rel="stylesheet" th:href="@{/new_update.css}" />
	</head>
	<body>
		<nav>
			<div th:if="${currUser != null}" class="userBar">
				<img th:if="${currUser.getPhoto != null}"
					 th:src="'data:image/png;base64,'+${imgUtil.getImgData(currUser.getPhoto.getPhoto())}" 
					 width=60px height=45px
					 class="userImage" />
				<img th:if="${currUser.getPhoto == null}"
					 th:src="@{/images/no_image.png}"
					 width=60px height=45px
					 class="userImage" />
					 
				<span class="userName" th:text="${currUser.fullname}" /> 
				 
				<a th:href="@{/profile}">Мои объявления</a>
				
				<div class="newAd">
					<button class="newAdBtn">Разместить объявление</button>
					
					<div class="newAd-content">
						<a th:href="@{/animal_ad/new}">Животные</a>
						<a th:href="@{/apartments_ad/new}">Квартиры</a>
						<a th:href="@{/car_ad/new}">Машины</a>
						<a th:href="@{/garage_ad/new}">Гаражи</a>
						<a th:href="@{/house_ad/new}">Дома</a>
						<a th:href="@{/motorcycle_ad/new}">Мотоциклы</a>
						<a th:href="@{/service_ad/new}">Сервисы</a>
						<a th:href="@{/truck_and_special_machinery_ad/new}">Грузовики и спецтехника</a>
					</div>
				</div>
				
				<form method="POST" th:action="@{/logout}">
					<input type="submit" value="Выйти"/>
				</form>
			</div>
		</nav>
		<main>
			<div class="header">
				<img th:src="@{/images/avito_logo.png}"
					 	 width=110px height=30px />
				<span>Новое объявление</span>
			</div>
		<form th:method="POST"
			  th:action="@{/car_ad/new}"
			  th:object="${adForm}"
			  id="adForm"
			  enctype="multipart/form-data">
		
			<label for="name">Имя: </label>
			<input type="text" th:field="*{name}" />
			<span class="validationError"
				  th:if="${#fields.hasErrors('name')}"
				  th:errors="*{name}" />
			</br>
			
			<label for="description">Описание: </label>
			<input type="text" th:field="*{description}" />
			<span class="validationError"
				  th:if="${#fields.hasErrors('description')}"
				  th:errors="*{description}" />
			</br>
			
			<label for="price">Цена: </label>
			<input type="number" th:field="*{price}" />
			<span class="validationError"
				  th:if="${#fields.hasErrors('price')}"
				  th:errors="*{price}" />
			</br>
			
			<label for="city">Город: </label>
			<input type="text" th:field="*{city}" />
			<span class="validationError"
				  th:if="${#fields.hasErrors('city')}"
				  th:errors="*{city}" />
			</br>
			
			<label for="adress">Адрес: </label>
			<input type="text" th:field="*{adress}" />
			<span class="validationError"
				  th:if="${#fields.hasErrors('adress')}"
				  th:errors="*{adress}" />
			</br>
			
			<label for="photo">Фото: </label>
			<input type="file" multiple th:name="photoFiles"  accept="image/png"/> </br>	
			
			
			<label for="model">Модель: </label>
			<input type="text" th:field="*{model}" />
			<span class="validationError"
				  th:if="${#fields.hasErrors('model')}"
				  th:errors="*{model}" />
			</br>
			
			<label for="brand">Бренд: </label>
			<input type="text" th:field="*{brand}" />
			<span class="validationError"
				  th:if="${#fields.hasErrors('brand')}"
				  th:errors="*{brand}" />
			</br>
			
			<label for="color">Цвет: </label>
			<input type="text" th:field="*{color}" />
			<span class="validationError"
				  th:if="${#fields.hasErrors('color')}"
				  th:errors="*{color}" />
			</br>
			
			<label for="manufactureYear">Год выпуска: </label>
			<input type="text" th:field="*{manufactureYear}" />
			<span class="validationError"
				  th:if="${#fields.hasErrors('manufactureYear')}"
				  th:errors="*{manufactureYear}" />
			</br>
			
			<label for="mileage">Пробег: </label>
			<input type="number" th:field="*{mileage}" />
			<span class="validationError"
				  th:if="${#fields.hasErrors('mileage')}"
				  th:errors="*{mileage}" />
			</br>
			
			
			<label for="transmission">Коробка передачь: </label>
			<input type="text" th:field="*{transmission}" />
			<span class="validationError"
				  th:if="${#fields.hasErrors('transmission')}"
				  th:errors="*{transmission}" />
			</br>
			
			<label for="driveType">Привод: </label>
			<input type="text" th:field="*{driveType}" />
			<span class="validationError"
				  th:if="${#fields.hasErrors('driveType')}"
				  th:errors="*{driveType}" />
			</br>
			
			<label for="enginesType">Тип двигателя: </label>
			<input type="text" th:field="*{enginesType}" />
			<span class="validationError"
				  th:if="${#fields.hasErrors('enginesType')}"
				  th:errors="*{enginesType}" />
			</br>
			
			<input type="submit" value="Создать"/>
		</form>
		</main>
	</body>
</html>